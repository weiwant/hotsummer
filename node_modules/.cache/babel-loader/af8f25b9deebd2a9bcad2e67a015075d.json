{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    login() {\n      var _this = this;\n\n      if (this.$data.username == '' || this.$data.password == '') {\n        alert('账号或密码不能为空！');\n      } else {\n        //向后端提交数据\n        //需要url\n        axios.post('https://4ad2-2001-250-4001-5012-9d4f-8594-5e18-94ed.jp.ngrok.io/users/login', {\n          username: this.$data.username,\n          password: this.$data.password\n        }).then(function (response) {\n          //成功时返回名字和身份\n          if (response.data.success) {\n            console.log(response);\n            alert(\"登录成功！\");\n            localStorage.clear();\n\n            if (response.data.data.identify == 1) {\n              localStorage.setItem('managerName', response.data.data.username);\n              localStorage.setItem('userIdentify', response.data.data.identify);\n              this.$router.push('/managerhome');\n            } else if (response.data.data.identify == 2) {\n              localStorage.setItem('teacherName', response.data.data.username);\n              localStorage.setItem('userIdentify', response.data.data.identify);\n              this.$router.push('/teacherhome');\n            }\n          } else {\n            alert(\"登录失败！\");\n            console.log(response);\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA;AAEA;EACAA;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CANA;;EAQAC;IAEAC;MACA;;MACA;QACAC;MACA,CAFA,MAEA;QACA;QACA;QACAC;UACAL,6BADA;UAEAC;QAFA,GAIAK,IAJA,CAIA;UACA;UACA;YACAC;YACAH;YACAI;;YACA;cACAA;cACAA;cACA;YACA,CAJA,MAIA;cACAA;cACAA;cACA;YACA;UACA,CAbA,MAaA;YACAJ;YACAG;UACA;QACA,CAvBA,EAwBAE,KAxBA,CAwBA;UACAF;QACA,CA1BA;MA2BA;IACA;;EArCA;AARA","names":["data","username","password","methods","login","alert","axios","then","console","localStorage","catch"],"sourceRoot":"src/components/LJY","sources":["Login.vue"],"sourcesContent":["<template>\r\n<div id=\"body\">\r\n    <header>高 级 教 师 工 作 量 管 理 系 统</header>\r\n    <div class=\"center\">\r\n        <div class=\"background1\"></div>\r\n        <div class=\"background2\"></div>\r\n        <div class=\"login\">\r\n            <span>登&nbsp;&nbsp;录</span><br>\r\n            <label for=\"account\">名字:</label>\r\n            <input type=\"text\" id=\"account\" v-model=\"username\" required>\r\n            <br>\r\n            <label for=\"password\">密码:</label>\r\n            <input type=\"password\" id='password' v-model=\"password\" required>\r\n            <br>\r\n            <input type=\"submit\" value=\"确 定  \" @click=\"login\">\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default{\r\n    data(){\r\n        return{\r\n            username: '',\r\n            password: ''\r\n        }\r\n    },\r\n\r\n    methods:{\r\n\r\n        login(){\r\n            var _this = this;\r\n            if(this.$data.username == '' || this.$data.password == ''){\r\n                alert('账号或密码不能为空！')\r\n            }else{\r\n                //向后端提交数据\r\n                //需要url\r\n                axios.post('https://4ad2-2001-250-4001-5012-9d4f-8594-5e18-94ed.jp.ngrok.io/users/login',{\r\n                    username: this.$data.username,\r\n                    password: this.$data.password\r\n                })\r\n                .then(function(response){\r\n                    //成功时返回名字和身份\r\n                    if(response.data.success){\r\n                        console.log(response);\r\n                        alert(\"登录成功！\");\r\n                        localStorage.clear();\r\n                        if(response.data.data.identify == 1){\r\n                            localStorage.setItem('managerName', response.data.data.username);\r\n                            localStorage.setItem('userIdentify', response.data.data.identify);\r\n                            this.$router.push('/managerhome')\r\n                        }else if(response.data.data.identify == 2){\r\n                            localStorage.setItem('teacherName', response.data.data.username);\r\n                            localStorage.setItem('userIdentify', response.data.data.identify);\r\n                            this.$router.push('/teacherhome');\r\n                        }\r\n                    }else{\r\n                        alert(\"登录失败！\");\r\n                        console.log(response);\r\n                    }\r\n                })\r\n                .catch(function(error){\r\n                    console.log(error);\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.body{\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    background-color: rgb(255, 255, 255);\r\n    font-family: 'SimSun';\r\n}\r\nheader{\r\n    position: relative;\r\n    height: 0px;\r\n    top: 20px;\r\n    left: 0;\r\n    transform: translateX(-50%);\r\n    color: rgb(128, 128, 128);\r\n    font-size: 50px;\r\n    font-weight: 600;\r\n    text-shadow: 3px 2px 2px rgba(23, 23, 41, 0.281);\r\n    white-space: nowrap;\r\n}\r\ndiv{\r\n    margin-left: 50%;\r\n    transform: translateX(-50%);\r\n}\r\n.center{\r\n    margin-top: 30vh;\r\n}\r\n\r\n\r\n.background1{\r\n    position: absolute;\r\n    z-index: -2;\r\n    top: 220px;\r\n    left: 130px;\r\n    width: 300px;\r\n    height: 300px;\r\n    border-radius: 50%;\r\n    background:linear-gradient(150deg,rgb(99, 156, 202),rgb(61, 102, 165),rgb(24, 77, 138)\r\n    );\r\n}\r\n\r\n\r\n.background2{\r\n    position: absolute;\r\n    top: -70px;\r\n    left: -180px;\r\n    z-index: -2;\r\n    width: 400px;\r\n    height: 400px;\r\n    border-radius: 50%;\r\n    background: linear-gradient(-30deg,rgb(142, 118, 173),rgb(103, 168, 212),rgb(106, 187, 173));\r\n}\r\n\r\n.login{\r\n    position: absolute;\r\n    padding-top: 5%;\r\n    width: 350px;\r\n    height: 400px;\r\n    border-radius: 20px;\r\n    backdrop-filter: blur(10px);\r\n    background-color: rgba(128, 128, 128, 0.178);\r\n    text-align: center;\r\n    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.247);\r\n    text-shadow: 1px 2px 5px rgba(0, 0, 0, 0.096);\r\n}\r\n\r\n.login span{\r\n    font-size: 250%;\r\n    font-weight: 500;\r\n    color: rgba(255, 255, 255, 0.671);\r\n   \r\n}\r\n\r\n.login label{\r\n    font-size: 120%;\r\n    font-weight: 400;\r\n    color: rgba(255, 255, 255, 0.733);\r\n}\r\n\r\n.login input{\r\n    margin-top: 15%;\r\n    margin-bottom: 5%;\r\n    border-radius: 30px;\r\n    padding-left: 10px;\r\n    width: 65%;\r\n    height: 30px;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 120%;\r\n    color: rgba(0, 0, 0, 0.685);\r\n}\r\n\r\n.login input[type=\"submit\"]{\r\n    margin-top: 10%;\r\n    width: 70px;\r\n    height: 70px;\r\n    border-radius: 50px;\r\n    border: 3px solid rgba(255, 255, 255, 0.356);\r\n    outline: 0;\r\n    background-color: rgba(255, 255, 255, 0);\r\n    font-size: 120%;\r\n    font-weight: 500;\r\n    color: rgba(255, 255, 255, 0.856);\r\n    cursor: pointer;\r\n}\r\n\r\n.login input[type=\"submit\"]:hover{\r\n    background-color: rgba(83, 81, 81, 0.486);\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}