{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data() {\n    return {};\n  },\n\n  methods: {\n    gotoCheck() {\n      this.$router.push('/checktable'); //暂无正确的查看报表页面\n    },\n\n    beforeUpload(file) {\n      const isExcel = file.name.substring(file.name.lastIndexOf('.') + 1);\n\n      if (isExcel != \"xls\" && isExcel != \"xlsx\") {\n        this.$message.error('只能上传.xls或.xlsx格式的表格文件！');\n      } else {\n        alert(\"格式对了！\");\n      }\n    },\n\n    uploadExcel(res) {\n      if (res.data.data.success == 200) {\n        alert(\"文件上传成功！\");\n      } else {\n        alert(\"文件上传失败，请检查网络！\");\n      }\n    },\n\n    uploadError() {\n      alert(\"上传文件失败，请重新上传！\");\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;EACAA;IACA;EAEA,CAJA;;EAMAC;IAEAC;MACA,iCADA,CACA;IACA,CAJA;;IAMAC;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACAC;MACA;IACA,CAbA;;IAeAC;MACA;QACAD;MACA,CAFA,MAEA;QACAA;MACA;IACA,CArBA;;IAuBAE;MACAF;IACA;;EAzBA;AANA","names":["data","methods","gotoCheck","beforeUpload","alert","uploadExcel","uploadError"],"sourceRoot":"src/components/LJY","sources":["Managerhome.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-menu\r\n  :default-active= 1\r\n  class=\"el-menu-demo\"\r\n  mode=\"horizontal\"\r\n  background-color=\"#00a183\"\r\n  text-color=\"#fff\"\r\n  active-text-color=\"#ffd04b\">\r\n  <el-menu-item index=\"1\" \r\n  @click=\"gotoCheck\">查看报表</el-menu-item>\r\n  <el-menu-item index=\"2\">\r\n<!-- 后端对接时在upload后面加 :action=\"url接口\"，询问返回值确定是否成功信息 -->\r\n    <el-upload\r\n    :before-upload=\"beforeUpload\"\r\n    :on-success=\"uploadExcel\"\r\n    :on-error=\"uploadError\"\r\n    :show-file-list=\"false\"\r\n    accept=\".xls,.xlsx\"\r\n    name=\"file\">上传报表</el-upload>\r\n\r\n    </el-menu-item>\r\n</el-menu>\r\n\r\n<el-main>\r\n  <router-view></router-view>\r\n</el-main>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default{\r\n\tdata(){\r\n\t\treturn{\r\n    }\r\n\t},\r\n\r\n  methods: {\r\n\r\n    gotoCheck(){\r\n      this.$router.push('/checktable');  //暂无正确的查看报表页面\r\n    },\r\n\r\n    beforeUpload(file){\r\n      const isExcel = file.name.substring(file.name.lastIndexOf('.') + 1);\r\n      if(isExcel != \"xls\" && isExcel != \"xlsx\"){\r\n        this.$message.error('只能上传.xls或.xlsx格式的表格文件！');\r\n      }else{\r\n        alert(\"格式对了！\");\r\n      }\r\n    },\r\n\r\n    uploadExcel(res){\r\n      if(res.data.data.success == 200){\r\n        alert(\"文件上传成功！\");\r\n      }else{\r\n        alert(\"文件上传失败，请检查网络！\");\r\n      }\r\n    },\r\n\r\n    uploadError(){\r\n      alert(\"上传文件失败，请重新上传！\");\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}